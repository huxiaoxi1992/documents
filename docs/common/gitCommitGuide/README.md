# git 使用规范

## 新建代码仓库

1. 非管理员无法在项目组中新建项目, 代码仓库的新建**需要**通过管理员完成
1. 仓库目录**必须**包括 `.gitignore` 文件对代码提交与否进行管理, **严禁**提交如 `target/`, `dist/` 等输出目录与 `node_modules/` 等资源目录, 静态资源目录不做限制
1. 项目**必须**包括 `README.md` 文件对当前项目进行说明, 包括
   - 项目的简介
   - 项目的安装与使用方法
   - 项目特殊问题的处理与解决方案
   - 文件夹目录结构
   - 使用的接口列表
1. 分支初始化后**需要**完成一次初始化提交以保证代码历史记录的显示

## 代码下载

1. **推荐**通过 `git clone` 新建本地代码目录
2. **可以**通过本地创建目录后使用 `git pull --allow-unrelated-histories` 拉取线上仓库并处理冲突后提交, **严禁**提交无历史记录追溯的代码

## 代码提交

1. **严禁**使用 `git push -f` 强制提交代码
1. 项目无法直接提交到 `master` 分支, 需通过新建分支, 提交 `merge request` 完成代码合并
1. git 提交时**需要**包含每次修改的具体内容, 遵守适量多次的原则, **严禁**一次提交大量更新, 通常单次提交的修改内容不超过 100 行
1. git 日志提交参考[日志提交模板](https://gist.githubusercontent.com/jmaxhu/8e7fb69a7dcec1b9b953/raw/ce7dd000639c2483d88def71bc47661fb36a7d4d/.git-commit-template.txt), 最基础的格式为 `{版本号}, {类型}:{主题}`

## 代码合并

1. 发起 `merge request` 时确认人选择为管理员, 审核人设置为其他开发者与测试
1. 代码合并的评审标准参考[代码评审规范](../codeReview/), 需要审核人确保代码库的`整体质量的提升为基础原则`
